$sgbp-input-error-color: $sgbp-color-error !default;
$sgbp-input-valid-color: $sgbp-color-success !default;
$sgbp-input-border-color: $sgbp-color-gray-medium !default;

$sgbp-input-type-range-thumb-color: $sgbp-color-black !default;
$sgbp-input-type-range-thumb-margin: -7px !default;
$sgbp-input-type-range-thumb-diameter: 16px;
$sgbp-input-type-range-track-color: $sgbp-color-gray-medium !default;
$sgbp-input-type-range-track-height: 2px !default;

.sgbp-input {
  flex: 1 1 auto;
  width: 100%;

  outline: 0;
  padding: $sgbp-input-padding;

  background-color: $sgbp-color-white;
  color: $sgbp-color-gray-dark;

  border: 1px solid $sgbp-input-border-color;

  &:focus {
    border: 1px solid $sgbp-color-brand-primary;
  }

  // sass-lint:disable no-vendor-prefixes
  &::-webkit-input-placeholder,
  &:-moz-placeholder,
  &-moz-placeholder,
  &-ms-input-placeholder {
    font-size: 0.8em;
  }
  // sass-lint:enable no-vendor-prefixes

  &.is-disabled,
  &--stateful[disabled] {
    border-color: $sgbp-color-gray-medium;
    color: $sgbp-color-gray-medium;
    cursor: not-allowed;
  }

  &.is-readonly,
  &--stateful[readonly] {
    border-color: $sgbp-color-gray-medium;
    color: $sgbp-color-gray;
  }

  &.is-hidden {
    /* Hide input element while still preserving accessibility features (i.e. tab order) and ensuring that its value
     * gets submitted properly.
     * CSS properties such as display: none or visibility: hidden will not work out. The reasons are:
     * - the input value will not be sent to the server on form submit
     * - the input will be excluded out of tab order.
     */
    width: 0.1px; //Setting the property values to zero ends up throwing the element out of tab party in some browsers.
    height: 0.1px; //Setting the property values to zero ends up throwing the element out of tab party in some browsers.
    opacity: 0;
    overflow: hidden;
    position: absolute;
    z-index: -1;
  }

  &--stateful {
    &.is-invalid,
    &.ng-touched.ng-invalid {
      border-color: $sgbp-color-error;
    }
  }

  &--big {
    padding: 12px 5px;
  }
}

// sass-lint:disable no-qualifying-elements
textarea.sgbp-input {
  min-height: 7em;
}
// sass-lint:enable no-qualifying-elements

/********************************************************************************************************************
 * INPUT TYPE RANGE
 *
 * Using mixins is necessary to avoid code repetition as you can't comma-separate the selectors in this case.
 * Browsers will drop the entire selector if they don't understand a part of it.
 ********************************************************************************************************************/

@mixin sgbp-input-range-thumb {
  appearance: none;
  height: $sgbp-input-type-range-thumb-diameter;
  width: $sgbp-input-type-range-thumb-diameter;
  border: none;
  border-radius: 50%;
  background: $sgbp-input-type-range-thumb-color;
  cursor: pointer;
}

@mixin sgbp-input-range-track {
  width: 100%;
  height: $sgbp-input-type-range-track-height;
  cursor: pointer;
  background: $sgbp-input-type-range-track-color;
  border: none;
}

// sass-lint:disable no-vendor-prefixes no-qualifying-elements
input[type='range'].sgbp-input {
  appearance: none;
  padding: 0;
  width: 100%;
  border: none;
  background: none;

  &::-webkit-slider-thumb {
    @include sgbp-input-range-thumb;
    margin-top: $sgbp-input-type-range-thumb-margin;
  }

  &::-webkit-slider-runnable-track {
    @include sgbp-input-range-track;
    margin-bottom: 0.2rem;
  }

  &::-ms-thumb {
    @include sgbp-input-range-thumb;

    @supports (-ms-accelerator: true) or (-ms-ime-align: auto) {
      // Edge only
      margin-bottom: $sgbp-input-type-range-thumb-margin;
    }
  }

  &::-ms-track {
    @include sgbp-input-range-track;
    // IE won't let the thumb overflow the track thus we have to hack
    border-top: $sgbp-input-type-range-thumb-diameter solid transparent;
    border-bottom: $sgbp-input-type-range-thumb-diameter solid transparent;
    margin-top: ($sgbp-input-type-range-thumb-diameter - $sgbp-input-type-range-track-height) * -1;
    margin-bottom: ($sgbp-input-type-range-thumb-diameter - $sgbp-input-type-range-track-height) * -1;
    background-color: transparent;
    color: transparent; // remove default tick marks
  }

  &::-ms-fill-lower,
  &::-ms-fill-upper {
    height: $sgbp-input-type-range-track-height;
    background-color: $sgbp-input-type-range-track-color;
  }

  &::-ms-tooltip {
    display: none;
  }

  &::-moz-range-thumb {
    @include sgbp-input-range-thumb;
    margin-top: $sgbp-input-type-range-thumb-margin; /* You need to specify a margin in Chrome, but in Firefox and IE it is automatic */
  }

  &::-moz-focus-outer {
    border: 0;
  }

  &::-moz-range-track {
    @include sgbp-input-range-track;
  }

  &::-moz-range-progress {
    height: $sgbp-input-type-range-track-height;
    background-color: $sgbp-input-type-range-track-color;
  }

  &:focus {
    outline: none;
  }
}
// sass-lint:enable no-vendor-prefixes no-qualifying-elements
